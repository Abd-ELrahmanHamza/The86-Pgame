;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Written by : - Abdelrahman Hamza  12-12-2021                                        ;;
; parameters : - a number represented as a string you want to validate                ;;
; return     : - flag = 1 if not valid else not affect it                             ;;
;A macro that validate a number => has spaces and 0,1,...f                            ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
validateNumbers MACRO string,flag                                                     ;;                                  
    LOCAL validNumber                                                                 ;;                      
    LOCAL loopOverAllString                                                           ;;                          
    LOCAL stringEnd                                                                   ;;                  
    LOCAL done                                                                        ;;              
    PUSHALL                                                                           ;;
    removeSpaces string                                                               ;;
    POPALL                                                                            ;;
    mov bx,string                                                                     ;;
    ;mov bx,offset string                                                             ;;
                                                                                      ;;
    loopOverAllString:                                                                ;;
        mov ah,'$'                                                                    ;;
        cmp [bx],ah                                                                   ;;
        jz stringEnd                                                                  ;;
        mov ax,[bx]                                                                   ;;
        mov ah,0                                                                      ;;
        sub ax,'0'                                                                    ;;
        cmp ax,000Fh                                                                  ;;
        jbe validNumber                                                               ;;
            mov ax,[bx]                                                               ;;
            mov ah,0                                                                  ;;
            sub ax,'a'                                                                ;;
            cmp ax,0005h                                                              ;;
            jbe validNumber                                                           ;;
            mov flag,0001h                                                            ;;
            jmp stringEnd                                                             ;;
        validNumber:                                                                  ;;
        inc bx                                                                        ;;
    jmp loopOverAllString                                                             ;;
    stringEnd:                                                                        ;;
ENDM                                                                                  ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;