;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Written by : - Abdelrahman Hamza  13-12-2021                                        ;;
; parameters : - string you want to remove all spaces at the beginning and the end    ;;
; return     : - Remove all spaces at the beginning and the end                       ;;
;A macro that takes a string with spaces and remove all spaces                        ;;
;              at the beginning and the end from it                                   ;;
;                                                                                     ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
trimSpaces MACRO string                                                               ;;
    LOCAL loopOverAllString                                                           ;;
    LOCAL notSpace                                                                    ;;
    LOCAL shiftStr                                                                    ;;
    LOCAL movBXToEnd                                                                  ;;
    LOCAL loopOverAllStringEnd                                                        ;;
    LOCAL notSpaceEND                                                                 ;;
    LOCAL shiftStrEND                                                                 ;;
                                                                                      ;;
    mov bx, offset string                                                             ;;
                                                                                      ;;
    ;mov bx,offset string                                                             ;;
    ;iterate over all string                                                          ;;
    loopOverAllString:                                                                ;;
        ;check end of string                                                          ;;
        mov ah,' '                                                                    ;;
        cmp [bx],ah                                                                   ;;
        jnz notSpace                                                                  ;;
            mov si,bx                                                                 ;;
            shiftStr:                                                                 ;;
            mov ah,[si+1]                                                             ;;
            mov [si],ah                                                               ;;
            mov ah,'$'                                                                ;;
            cmp [si],ah                                                               ;;
            jz loopOverAllString                                                      ;;
            inc si                                                                    ;;
            jnz shiftStr                                                              ;;
    jmp loopOverAllString                                                             ;;
    notSpace:                                                                         ;;
                                                                                      ;;
    movBXToEnd:                                                                       ;;
    mov ah,'$'                                                                        ;;
    cmp [bx],ah                                                                       ;;
    jz loopOverAllStringEnd                                                           ;;
    inc bx                                                                            ;;
    jnz movBXToEnd                                                                    ;;
                                                                                      ;;
    loopOverAllStringEnd:                                                             ;;
        dec bx                                                                        ;;
        ;check end of string                                                          ;;
        mov ah,' '                                                                    ;;
        cmp [bx],ah                                                                   ;;
        jnz notSpaceEND                                                               ;;
            mov si,bx                                                                 ;;
            shiftStrEND:                                                              ;;
            mov ah,[si+1]                                                             ;;
            mov [si],ah                                                               ;;
            mov ah,'$'                                                                ;;
            cmp [si],ah                                                               ;;
            jz loopOverAllStringEnd                                                   ;;
            inc si                                                                    ;;
            jnz shiftStrEND                                                           ;;
    jmp loopOverAllStringEnd                                                          ;;
    notSpaceEND:                                                                      ;;
ENDM                                                                                  ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;